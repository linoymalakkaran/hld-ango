<mxfile host="app.diagrams.net" agent="5.0" version="24.7.17">
  <diagram name="ASYCUDA Integration Flow" id="asycuda-integration-flow">
    <mxGraphModel dx="2074" dy="1194" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="3000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Sequence Diagram Title -->
        <mxCell id="title" value="ASYCUDA Integration Flow - Declaration Submission" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="627" y="20" width="400" height="30" as="geometry" />
        </mxCell>
        
        <!-- Participants -->
        <mxCell id="trader-header" value="ðŸ‘¤ Trader/Broker" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="70" width="120" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="portal-header" value="ðŸŒ JUL Web Portal" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="180" y="70" width="120" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="gateway-header" value="ðŸ¦ Kong API Gateway" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="320" y="70" width="120" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="declaration-header" value="ðŸ“‹ Declaration Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="460" y="70" width="120" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="asycuda-int-header" value="ðŸ›ï¸ ASYCUDA Integration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="600" y="70" width="120" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="asycuda-header" value="ðŸ›ï¸ ASYCUDA (AGT)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="740" y="70" width="120" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="workflow-header" value="ðŸ”„ Workflow Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="880" y="70" width="120" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="payment-header" value="ðŸ’³ Payment Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1020" y="70" width="120" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="notification-header" value="ðŸ“§ Notification Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1160" y="70" width="120" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="audit-header" value="ðŸ“ Audit Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1300" y="70" width="120" height="40" as="geometry" />
        </mxCell>
        
        <!-- Lifelines -->
        <mxCell id="trader-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="95" y="130" width="10" height="2700" as="geometry" />
        </mxCell>
        
        <mxCell id="portal-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="235" y="130" width="10" height="2700" as="geometry" />
        </mxCell>
        
        <mxCell id="gateway-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="375" y="130" width="10" height="2700" as="geometry" />
        </mxCell>
        
        <mxCell id="declaration-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="515" y="130" width="10" height="2700" as="geometry" />
        </mxCell>
        
        <mxCell id="asycuda-int-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="655" y="130" width="10" height="2700" as="geometry" />
        </mxCell>
        
        <mxCell id="asycuda-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="795" y="130" width="10" height="2700" as="geometry" />
        </mxCell>
        
        <mxCell id="workflow-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="935" y="130" width="10" height="2700" as="geometry" />
        </mxCell>
        
        <mxCell id="payment-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="1075" y="130" width="10" height="2700" as="geometry" />
        </mxCell>
        
        <mxCell id="notification-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="1215" y="130" width="10" height="2700" as="geometry" />
        </mxCell>
        
        <mxCell id="audit-lifeline" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="1355" y="130" width="10" height="2700" as="geometry" />
        </mxCell>
        
        <!-- Section Note -->
        <mxCell id="section1-note" value="Declaration Submission Flow" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="150" width="1380" height="30" as="geometry" />
        </mxCell>
        
        <!-- 1. Declaration Creation -->
        <mxCell id="msg1" value="Create new DU declaration" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="100" y="210" as="sourcePoint" />
            <mxPoint x="240" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg2" value="Submit declaration data" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="245" y="240" as="sourcePoint" />
            <mxPoint x="380" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg3" value="POST /declarations" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="385" y="270" as="sourcePoint" />
            <mxPoint x="520" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Validation Note -->
        <mxCell id="validation-note" value="Validate declaration data&#xa;Check required fields&#xa;Validate business rules" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;align=left" vertex="1" parent="1">
          <mxGeometry x="540" y="290" width="180" height="60" as="geometry" />
        </mxCell>
        
        <!-- Audit Logging -->
        <mxCell id="msg4" value="Log declaration creation" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="525" y="370" as="sourcePoint" />
            <mxPoint x="1360" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg5" value="Audit logged" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1355" y="390" as="sourcePoint" />
            <mxPoint x="520" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Response Chain -->
        <mxCell id="msg6" value="Declaration created (ID: DU123456)" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="515" y="420" as="sourcePoint" />
            <mxPoint x="380" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg7" value="201 Created" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="375" y="440" as="sourcePoint" />
            <mxPoint x="240" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg8" value="Declaration created successfully" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="235" y="460" as="sourcePoint" />
            <mxPoint x="100" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 2. Declaration Validation -->
        <mxCell id="status-note" value="Internal validation complete&#xa;Status: DRAFT â†’ SUBMITTED" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;align=left" vertex="1" parent="1">
          <mxGeometry x="540" y="490" width="180" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="msg9" value="Start declaration workflow" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="525" y="560" as="sourcePoint" />
            <mxPoint x="940" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg10" value="Workflow instance created" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="935" y="580" as="sourcePoint" />
            <mxPoint x="520" y="580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 3. ASYCUDA Integration -->
        <mxCell id="section2-note" value="ASYCUDA Integration - CUSDEC Submission" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="610" width="1380" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="msg11" value="Submit to ASYCUDA" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="525" y="670" as="sourcePoint" />
            <mxPoint x="660" y="670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Transform Note -->
        <mxCell id="transform-note" value="Transform DU to CUSDEC format&#xa;Apply UN/EDIFACT standards&#xa;Add required headers" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;align=left" vertex="1" parent="1">
          <mxGeometry x="680" y="690" width="200" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="msg12" value="SOAP Request: CUSDEC Message" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="665" y="770" as="sourcePoint" />
            <mxPoint x="800" y="770" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- CUSDEC Elements Note -->
        <mxCell id="cusdec-note" value="CUSDEC Elements:&#xa;â€¢ Declaration Header&#xa;â€¢ Declarant Information&#xa;â€¢ Goods Items&#xa;â€¢ HS Codes &amp; Values&#xa;â€¢ Transport Details&#xa;â€¢ Supporting Documents" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left" vertex="1" parent="1">
          <mxGeometry x="820" y="690" width="160" height="120" as="geometry" />
        </mxCell>
        
        <!-- 4. ASYCUDA Processing -->
        <mxCell id="processing-note" value="Process customs declaration&#xa;â€¢ Risk Assessment&#xa;â€¢ Tariff Lookup&#xa;â€¢ Duty Calculation&#xa;â€¢ Compliance Checks" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;align=left" vertex="1" parent="1">
          <mxGeometry x="820" y="820" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="msg13" value="SOAP Response: CUSRES Message" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="795" y="920" as="sourcePoint" />
            <mxPoint x="660" y="920" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- CUSRES Elements Note -->
        <mxCell id="cusres-note" value="CUSRES Elements:&#xa;â€¢ Assessment Results&#xa;â€¢ Calculated Duties&#xa;â€¢ Tax Amounts&#xa;â€¢ Inspection Requirements&#xa;â€¢ Clearance Status&#xa;â€¢ Error Messages (if any)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left" vertex="1" parent="1">
          <mxGeometry x="820" y="940" width="160" height="120" as="geometry" />
        </mxCell>
        
        <!-- Self Message -->
        <mxCell id="msg14" value="Parse CUSRES response" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;entryX=1;entryY=0;exitX=1;exitY=0" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="665" y="970" as="sourcePoint" />
            <mxPoint x="665" y="990" as="targetPoint" />
            <Array as="points">
              <mxPoint x="695" y="970" />
              <mxPoint x="695" y="990" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg15" value="ASYCUDA response processed" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="655" y="1010" as="sourcePoint" />
            <mxPoint x="520" y="1010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 5. Update Declaration Status -->
        <mxCell id="msg16" value="Update status: SUBMITTED â†’ ASSESSED" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;entryX=1;entryY=0;exitX=1;exitY=0" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="525" y="1040" as="sourcePoint" />
            <mxPoint x="525" y="1060" as="targetPoint" />
            <Array as="points">
              <mxPoint x="555" y="1040" />
              <mxPoint x="555" y="1060" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg17" value="Log ASYCUDA response" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="525" y="1080" as="sourcePoint" />
            <mxPoint x="1360" y="1080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg18" value="Audit logged" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1355" y="1100" as="sourcePoint" />
            <mxPoint x="520" y="1100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 6. Payment Processing -->
        <mxCell id="section3-note" value="Payment Processing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="1130" width="1380" height="30" as="geometry" />
        </mxCell>
        
        <!-- Alt Box for Assessment Successful -->
        <mxCell id="alt-box1" value="Assessment Successful (Duties Calculated)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="1170" width="1380" height="200" as="geometry" />
        </mxCell>
        
        <mxCell id="msg19" value="Process duty payment" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="alt-box1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="485" y="40" as="sourcePoint" />
            <mxPoint x="1040" y="40" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg20" value="Calculate total amount&#xa;(Duties + VAT + Fees)" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;entryX=1;entryY=0;exitX=1;exitY=0" edge="1" parent="alt-box1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1045" y="60" as="sourcePoint" />
            <mxPoint x="1045" y="80" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1075" y="60" />
              <mxPoint x="1075" y="80" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg21" value="Payment request created" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="alt-box1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1035" y="100" as="sourcePoint" />
            <mxPoint x="480" y="100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg22" value="Send payment notification" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="alt-box1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="485" y="120" as="sourcePoint" />
            <mxPoint x="1180" y="120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg23" value="ðŸ“§ Payment required: $2,500.00" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="alt-box1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1175" y="140" as="sourcePoint" />
            <mxPoint x="60" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Alt Box for Assessment Failed -->
        <mxCell id="alt-box2" value="Assessment Failed (Inspection Required)" style="swimlane;whiteSpace=wrap;html=1;fillColor=#ffecb3;strokeColor=#e65100;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="1390" width="1380" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="msg24" value="Update status: ASSESSED â†’ INSPECTION_REQUIRED" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;entryX=1;entryY=0;exitX=1;exitY=0" edge="1" parent="alt-box2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="485" y="30" as="sourcePoint" />
            <mxPoint x="485" y="50" as="targetPoint" />
            <Array as="points">
              <mxPoint x="515" y="30" />
              <mxPoint x="515" y="50" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg25" value="Send inspection notification" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="alt-box2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="485" y="60" as="sourcePoint" />
            <mxPoint x="1180" y="60" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg26" value="ðŸ“§ Physical inspection required" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="alt-box2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1175" y="80" as="sourcePoint" />
            <mxPoint x="60" y="80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 7. Payment Confirmation Flow -->
        <mxCell id="payment-note" value="Trader makes payment via banking system" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;align=left" vertex="1" parent="1">
          <mxGeometry x="60" y="1520" width="180" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="msg27" value="Receive payment confirmation" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;entryX=1;entryY=0;exitX=1;exitY=0" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1085" y="1580" as="sourcePoint" />
            <mxPoint x="1085" y="1600" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1115" y="1580" />
              <mxPoint x="1115" y="1600" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg28" value="Payment confirmed" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1085" y="1620" as="sourcePoint" />
            <mxPoint x="520" y="1620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg29" value="Update status: ASSESSED â†’ CLEARED" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;entryX=1;entryY=0;exitX=1;exitY=0" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="525" y="1650" as="sourcePoint" />
            <mxPoint x="525" y="1670" as="targetPoint" />
            <Array as="points">
              <mxPoint x="555" y="1650" />
              <mxPoint x="555" y="1670" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg30" value="Status updated" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="515" y="1690" as="sourcePoint" />
            <mxPoint x="1080" y="1690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 8. Clearance Certificate -->
        <mxCell id="section4-note" value="Clearance Certificate" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="1720" width="1380" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="msg31" value="Request clearance certificate" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="525" y="1780" as="sourcePoint" />
            <mxPoint x="660" y="1780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg32" value="Request clearance document" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="665" y="1800" as="sourcePoint" />
            <mxPoint x="800" y="1800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg33" value="Return clearance certificate" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="795" y="1820" as="sourcePoint" />
            <mxPoint x="660" y="1820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg34" value="Certificate received" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="655" y="1840" as="sourcePoint" />
            <mxPoint x="520" y="1840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 9. Final Notifications -->
        <mxCell id="msg35" value="Complete workflow" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="525" y="1870" as="sourcePoint" />
            <mxPoint x="940" y="1870" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg36" value="Workflow completed" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="935" y="1890" as="sourcePoint" />
            <mxPoint x="520" y="1890" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg37" value="Send clearance notification" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="525" y="1920" as="sourcePoint" />
            <mxPoint x="1220" y="1920" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg38" value="ðŸ“§ âœ… Clearance certificate available" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1215" y="1940" as="sourcePoint" />
            <mxPoint x="100" y="1940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg39" value="Log declaration completion" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="525" y="1970" as="sourcePoint" />
            <mxPoint x="1360" y="1970" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg40" value="Final audit logged" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;strokeStyle=dashed" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1355" y="1990" as="sourcePoint" />
            <mxPoint x="520" y="1990" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Completion Note -->
        <mxCell id="completion-note" value="Declaration Process Complete&#xa;Total Time: 4-6 hours (target)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;align=center" vertex="1" parent="1">
          <mxGeometry x="40" y="2020" width="1380" height="40" as="geometry" />
        </mxCell>
        
        <!-- Error Handling Section -->
        <mxCell id="error-section-note" value="Error Handling Scenarios" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#d79b00;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="2100" width="1380" height="30" as="geometry" />
        </mxCell>
        
        <!-- System Unavailable Alt Box -->
        <mxCell id="error-alt-box1" value="ASYCUDA System Unavailable" style="swimlane;whiteSpace=wrap;html=1;fillColor=#ffe6e6;strokeColor=#d79b00;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="2150" width="1380" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="error-msg1" value="CUSDEC Request" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2" edge="1" parent="error-alt-box1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="625" y="30" as="sourcePoint" />
            <mxPoint x="760" y="30" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="error-msg2" value="Connection timeout" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=2;strokeColor=#d32f2f;endFill=0;dashed=1;dashPattern=8 8" edge="1" parent="error-alt-box1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="755" y="50" as="sourcePoint" />
            <mxPoint x="620" y="50" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="error-msg3" value="Queue for retry, Apply circuit breaker" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;strokeWidth=1;entryX=1;entryY=0;exitX=1;exitY=0" edge="1" parent="error-alt-box1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="625" y="70" as="sourcePoint" />
            <mxPoint x="625" y="90" as="targetPoint" />
            <Array as="points">
              <mxPoint x="655" y="70" />
              <mxPoint x="655" y="90" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Message Format Examples -->
        <mxCell id="format-note" value="Message Format Examples" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="2300" width="1380" height="30" as="geometry" />
        </mxCell>
        
        <!-- CUSDEC Format -->
        <mxCell id="cusdec-format" value="CUSDEC Message Structure:&#xa;```xml&#xa;&lt;CUSDEC&gt;&#xa;  &lt;MessageHeader&gt;&#xa;    &lt;MessageID&gt;JUL123456789&lt;/MessageID&gt;&#xa;    &lt;MessageDate&gt;2025-12-15&lt;/MessageDate&gt;&#xa;  &lt;/MessageHeader&gt;&#xa;  &lt;DeclarationHeader&gt;&#xa;    &lt;DeclarationID&gt;DU123456&lt;/DeclarationID&gt;&#xa;    &lt;DeclarationType&gt;IMD&lt;/DeclarationType&gt;&#xa;    &lt;CustomsOffice&gt;AOLAD&lt;/CustomsOffice&gt;&#xa;  &lt;/DeclarationHeader&gt;&#xa;  &lt;GoodsItems&gt;...&lt;/GoodsItems&gt;&#xa;&lt;/CUSDEC&gt;&#xa;```" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;align=left;fontFamily=Courier New;fontSize=8" vertex="1" parent="1">
          <mxGeometry x="40" y="2350" width="680" height="220" as="geometry" />
        </mxCell>
        
        <!-- CUSRES Format -->
        <mxCell id="cusres-format" value="CUSRES Message Structure:&#xa;```xml&#xa;&lt;CUSRES&gt;&#xa;  &lt;MessageHeader&gt;&#xa;    &lt;ResponseID&gt;AGT987654321&lt;/ResponseID&gt;&#xa;    &lt;OriginalMessageID&gt;JUL123456789&lt;/OriginalMessageID&gt;&#xa;  &lt;/MessageHeader&gt;&#xa;  &lt;AssessmentResult&gt;&#xa;    &lt;Status&gt;APPROVED&lt;/Status&gt;&#xa;    &lt;DutyAmount&gt;1500.00&lt;/DutyAmount&gt;&#xa;    &lt;VATAmount&gt;750.00&lt;/VATAmount&gt;&#xa;    &lt;ProcessingFee&gt;250.00&lt;/ProcessingFee&gt;&#xa;  &lt;/AssessmentResult&gt;&#xa;&lt;/CUSRES&gt;&#xa;```" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;align=left;fontFamily=Courier New;fontSize=8" vertex="1" parent="1">
          <mxGeometry x="740" y="2350" width="680" height="220" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>