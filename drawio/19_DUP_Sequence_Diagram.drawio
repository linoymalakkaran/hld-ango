<mxfile host="app.diagrams.net" modified="2026-01-22T12:00:00.000Z" agent="Claude" version="22.1.16">
  <diagram name="DUP Process with Boundaries" id="sequence-with-boundaries">
    <mxGraphModel dx="1434" dy="820" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="DUP Certificate Issuing - Sequence Diagram with System Boundaries" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="114" y="20" width="600" height="30" as="geometry" />
        </mxCell>
        
        <!-- Boundary Headers -->
        <mxCell id="boundary-jul" value="JUL PLATFORM" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="40" y="60" width="350" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="boundary-integration" value="INTEGRATION LAYER" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="390" y="60" width="120" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="boundary-external" value="THIRD-PARTY SYSTEMS" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="510" y="60" width="280" height="40" as="geometry" />
        </mxCell>
        
        <!-- Participants - JUL Platform -->
        <mxCell id="participant-trader" value="Trader" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="50" y="110" width="80" height="1000" as="geometry" />
        </mxCell>
        
        <mxCell id="participant-jul-portal" value="JUL&#xa;Portal" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="150" y="110" width="80" height="1000" as="geometry" />
        </mxCell>
        
        <mxCell id="participant-broker" value="Customs&#xa;Broker" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="250" y="110" width="80" height="1000" as="geometry" />
        </mxCell>
        
        <mxCell id="participant-jul-backend" value="JUL&#xa;Backend" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="350" y="110" width="80" height="1000" as="geometry" />
        </mxCell>
        
        <!-- Integration Layer -->
        <mxCell id="participant-integration" value="Integration&#xa;Adapter" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="450" y="110" width="90" height="1000" as="geometry" />
        </mxCell>
        
        <!-- External Systems -->
        <mxCell id="participant-sicoex" value="SICOEX&#xa;(MINDCOM)" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="560" y="110" width="90" height="1000" as="geometry" />
        </mxCell>
        
        <mxCell id="participant-bna" value="BNA&#xa;(Bank)" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="670" y="110" width="80" height="1000" as="geometry" />
        </mxCell>
        
        <!-- Activation boxes -->
        <mxCell id="activation-trader" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="participant-trader">
          <mxGeometry x="35" y="80" width="10" height="870" as="geometry" />
        </mxCell>
        
        <mxCell id="activation-jul-portal" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="participant-jul-portal">
          <mxGeometry x="35" y="100" width="10" height="850" as="geometry" />
        </mxCell>
        
        <mxCell id="activation-broker" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="participant-broker">
          <mxGeometry x="35" y="180" width="10" height="770" as="geometry" />
        </mxCell>
        
        <mxCell id="activation-jul-backend" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="participant-jul-backend">
          <mxGeometry x="35" y="120" width="10" height="830" as="geometry" />
        </mxCell>
        
        <mxCell id="activation-integration" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="participant-integration">
          <mxGeometry x="40" y="310" width="10" height="640" as="geometry" />
        </mxCell>
        
        <mxCell id="activation-sicoex" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="participant-sicoex">
          <mxGeometry x="40" y="330" width="10" height="580" as="geometry" />
        </mxCell>
        
        <!-- Message Flow -->
        
        <!-- 1. Upload Commercial Invoice -->
        <mxCell id="msg-1" value="01: Upload Commercial&#xa;Invoice" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=9;strokeColor=#82b366;strokeWidth=1.5;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="95" y="210" as="sourcePoint" />
            <mxPoint x="185" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg-1-store" value="Store Document" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;fontSize=9;strokeColor=#82b366;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="195" y="230" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="225" y="230" />
              <mxPoint x="225" y="250" />
            </Array>
            <mxPoint x="195" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 2. Nominate Broker -->
        <mxCell id="msg-2" value="02: Nominate&#xa;Customs Broker" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=9;strokeColor=#82b366;strokeWidth=1.5;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="95" y="280" as="sourcePoint" />
            <mxPoint x="185" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 3. Notification to Broker -->
        <mxCell id="msg-3" value="03: Nomination Request" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=9;strokeColor=#82b366;strokeWidth=1.5;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="195" y="310" as="sourcePoint" />
            <mxPoint x="285" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 4. Broker Accepts -->
        <mxCell id="msg-4" value="04: Accept Nomination" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=9;strokeColor=#82b366;strokeWidth=1.5;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="285" y="340" as="sourcePoint" />
            <mxPoint x="195" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 5. Broker Creates DUP Request -->
        <mxCell id="msg-5" value="05: Create DUP Request&#xa;(linked to Trader)" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=9;strokeColor=#82b366;strokeWidth=1.5;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="295" y="370" as="sourcePoint" />
            <mxPoint x="385" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 6. Submit to Integration -->
        <mxCell id="msg-6" value="06: Submit DUP Request" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=9;strokeColor=#d6b656;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="395" y="410" as="sourcePoint" />
            <mxPoint x="495" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="boundary-note-1" value="BOUNDARY CROSSING:&#xa;JUL → Integration Layer" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=8;align=center;" vertex="1" parent="1">
          <mxGeometry x="410" y="380" width="70" height="50" as="geometry" />
        </mxCell>
        
        <!-- 7. Integration to SICOEX -->
        <mxCell id="msg-7" value="07: API Call -&#xa;Submit Request" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=9;strokeColor=#9673a6;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="505" y="450" as="sourcePoint" />
            <mxPoint x="605" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="boundary-note-2" value="BOUNDARY CROSSING:&#xa;Integration → SICOEX" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=8;align=center;" vertex="1" parent="1">
          <mxGeometry x="520" y="420" width="70" height="50" as="geometry" />
        </mxCell>
        
        <!-- 8. SICOEX Review -->
        <mxCell id="msg-8" value="Review Request" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;fontSize=9;strokeColor=#9673a6;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="610" y="480" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="650" y="480" />
              <mxPoint x="650" y="510" />
            </Array>
            <mxPoint x="610" y="510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- ALT Frame -->
        <mxCell id="alt-frame" value="alt" style="shape=umlFrame;whiteSpace=wrap;html=1;fillColor=#ffffff;fontSize=10;align=left;verticalAlign=top;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="530" width="710" height="240" as="geometry" />
        </mxCell>
        
        <mxCell id="alt-approved" value="[Approved]" style="text;html=1;align=left;verticalAlign=top;spacingLeft=4;fontSize=9;fontStyle=2" vertex="1" parent="1">
          <mxGeometry x="45" y="545" width="70" height="15" as="geometry" />
        </mxCell>
        
        <!-- 9. Generate Certificate & Invoice -->
        <mxCell id="msg-9" value="Generate Invoice (RUPE)&#xa;&amp; DUP Draft" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;fontSize=9;strokeColor=#9673a6;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="610" y="575" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="650" y="575" />
              <mxPoint x="650" y="605" />
            </Array>
            <mxPoint x="610" y="605" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 10. Return Approval -->
        <mxCell id="msg-10" value="Return: Approved +&#xa;Invoice + DUP Draft" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=9;strokeColor=#9673a6;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="600" y="635" as="sourcePoint" />
            <mxPoint x="505" y="635" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 11. Integration to JUL -->
        <mxCell id="msg-11" value="Sync Status + Docs" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=9;strokeColor=#d6b656;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="495" y="655" as="sourcePoint" />
            <mxPoint x="395" y="655" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 12. Notify all parties -->
        <mxCell id="msg-12a" value="Notify: Invoice Available" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=9;strokeColor=#82b366;dashed=1;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="385" y="680" as="sourcePoint" />
            <mxPoint x="295" y="680" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg-12b" value="Notify: Invoice Available" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=9;strokeColor=#82b366;dashed=1;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="385" y="700" as="sourcePoint" />
            <mxPoint x="95" y="700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Alt separator -->
        <mxCell id="alt-separator" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=#000000;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="720" width="710" height="8" as="geometry" />
        </mxCell>
        
        <mxCell id="alt-rejected" value="[Rejected]" style="text;html=1;align=left;verticalAlign=top;spacingLeft=4;fontSize=9;fontStyle=2" vertex="1" parent="1">
          <mxGeometry x="45" y="730" width="70" height="15" as="geometry" />
        </mxCell>
        
        <!-- Rejection flow -->
        <mxCell id="msg-reject" value="Return: Rejected" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=9;strokeColor=#b85450;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="600" y="755" as="sourcePoint" />
            <mxPoint x="95" y="755" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Continue approved path -->
        
        <!-- 13. Payment -->
        <mxCell id="msg-13" value="08: Complete Payment&#xa;at Commercial Bank" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=9;strokeColor=#e1d5e7;strokeWidth=1.5;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="95" y="810" as="sourcePoint" />
            <mxPoint x="710" y="810" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 14. BNA Notification -->
        <mxCell id="msg-14" value="09: Payment&#xa;Notification" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=9;strokeColor=#9673a6;strokeWidth=1.5;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="710" y="840" as="sourcePoint" />
            <mxPoint x="610" y="840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 15. Issue DUP -->
        <mxCell id="msg-15" value="10: Confirm Payment&#xa;&amp; Issue DUP Certificate" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;fontSize=9;strokeColor=#9673a6;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="610" y="870" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="650" y="870" />
              <mxPoint x="650" y="900" />
            </Array>
            <mxPoint x="610" y="900" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 16. Return DUP to Integration -->
        <mxCell id="msg-16" value="11: Return DUP Certificate" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=9;strokeColor=#9673a6;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="600" y="930" as="sourcePoint" />
            <mxPoint x="505" y="930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 17. Integration to JUL -->
        <mxCell id="msg-17" value="12: Sync DUP Certificate" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=9;strokeColor=#d6b656;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="495" y="950" as="sourcePoint" />
            <mxPoint x="395" y="950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 18. Store and Notify -->
        <mxCell id="msg-18a" value="Store Certificate" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;fontSize=9;strokeColor=#82b366;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="395" y="970" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="425" y="970" />
              <mxPoint x="425" y="990" />
            </Array>
            <mxPoint x="395" y="990" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg-18b" value="13: Notify - DUP Ready" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=9;strokeColor=#82b366;dashed=1;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="385" y="1010" as="sourcePoint" />
            <mxPoint x="295" y="1010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg-18c" value="14: Notify - DUP Ready" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=9;strokeColor=#82b366;dashed=1;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="385" y="1030" as="sourcePoint" />
            <mxPoint x="95" y="1030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 19. Download -->
        <mxCell id="msg-19" value="15: Download DUP Certificate" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=9;strokeColor=#82b366;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="95" y="1060" as="sourcePoint" />
            <mxPoint x="185" y="1060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Summary Notes -->
        <mxCell id="note-jul" value="JUL Platform:&#xa;• User management&#xa;• Document storage&#xa;• Workflow orchestration&#xa;• Notifications&#xa;• Status tracking" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=8;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="40" y="960" width="100" height="90" as="geometry" />
        </mxCell>
        
        <mxCell id="note-integration" value="Integration Layer:&#xa;• Protocol translation&#xa;• Data mapping&#xa;• API orchestration&#xa;• Error handling" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=8;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="445" y="970" width="100" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="note-external" value="External Systems:&#xa;• SICOEX: Approval logic&#xa;• BNA: Payment tracking&#xa;• No changes to existing&#xa;  system operations" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=8;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="590" y="960" width="110" height="90" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
