<mxfile host="app.diagrams.net">
  <diagram name="Master Data Sync" id="master-data-sync">
    <mxGraphModel dx="1434" dy="844" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="1000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- TITLE -->
        <mxCell id="title" value="Master Data Synchronization Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="20" width="400" height="30" as="geometry" />
        </mxCell>
        
        <!-- EXTERNAL SYSTEMS LAYER -->
        <mxCell id="external-systems" value="ðŸŒ EXTERNAL SYSTEMS" style="swimlane;whiteSpace=wrap;html=1;fillColor=#ffebee;strokeColor=#c62828;strokeWidth=2;fontStyle=1;fontSize=12;startSize=30;" vertex="1" parent="1">
          <mxGeometry x="50" y="70" width="1300" height="140" as="geometry" />
        </mxCell>
        
        <mxCell id="customs-hq" value="ðŸ›ï¸ Customs\nHeadquarters" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcdd2;strokeColor=#c62828;strokeWidth=2;fontSize=10;" vertex="1" parent="external-systems">
          <mxGeometry x="50" y="40" width="120" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="ministry-economy" value="ðŸ¢ Ministry of\nEconomy" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcdd2;strokeColor=#c62828;strokeWidth=2;fontSize=10;" vertex="1" parent="external-systems">
          <mxGeometry x="200" y="40" width="120" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="chamber-commerce" value="ðŸ¬ Chamber of\nCommerce" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcdd2;strokeColor=#c62828;strokeWidth=2;fontSize=10;" vertex="1" parent="external-systems">
          <mxGeometry x="350" y="40" width="120" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="trade-license" value="ðŸ“„ Trade License\nAuthority" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcdd2;strokeColor=#c62828;strokeWidth=2;fontSize=10;" vertex="1" parent="external-systems">
          <mxGeometry x="500" y="40" width="120" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="banks" value="ðŸ¦ Banking\nSystems" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcdd2;strokeColor=#c62828;strokeWidth=2;fontSize=10;" vertex="1" parent="external-systems">
          <mxGeometry x="650" y="40" width="120" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="shipping-lines" value="ðŸš¢ Shipping\nLines" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcdd2;strokeColor=#c62828;strokeWidth=2;fontSize=10;" vertex="1" parent="external-systems">
          <mxGeometry x="800" y="40" width="120" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="freight-forwarders" value="ðŸ“¦ Freight\nForwarders" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcdd2;strokeColor=#c62828;strokeWidth=2;fontSize=10;" vertex="1" parent="external-systems">
          <mxGeometry x="950" y="40" width="120" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="wco-standards" value="ðŸŒ WCO\nStandards" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ef9a9a;strokeColor=#c62828;strokeWidth=2;fontSize=10;" vertex="1" parent="external-systems">
          <mxGeometry x="1100" y="40" width="120" height="70" as="geometry" />
        </mxCell>
        
        <!-- DATA INTEGRATION LAYER -->
        <mxCell id="data-integration" value="ðŸ”„ DATA INTEGRATION LAYER" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#4caf50;strokeWidth=2;fontStyle=1;fontSize=12;startSize=30;" vertex="1" parent="1">
          <mxGeometry x="50" y="240" width="1300" height="150" as="geometry" />
        </mxCell>
        
        <mxCell id="api-gateway" value="ðŸšª API\nGateway" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#4caf50;strokeWidth=2;fontSize=10;" vertex="1" parent="data-integration">
          <mxGeometry x="50" y="40" width="100" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="data-connectors" value="ðŸ”Œ Data\nConnectors" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#4caf50;strokeWidth=2;fontSize=10;" vertex="1" parent="data-integration">
          <mxGeometry x="180" y="40" width="100" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="etl-engine" value="ðŸ”„ ETL\nEngine" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#4caf50;strokeWidth=2;fontSize=10;" vertex="1" parent="data-integration">
          <mxGeometry x="310" y="40" width="100" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="data-validation" value="âœ… Data\nValidation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#4caf50;strokeWidth=2;fontSize=10;" vertex="1" parent="data-integration">
          <mxGeometry x="440" y="40" width="100" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="data-mapping" value="ðŸ—ºï¸ Data\nMapping" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#4caf50;strokeWidth=2;fontSize=10;" vertex="1" parent="data-integration">
          <mxGeometry x="570" y="40" width="100" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="conflict-resolution" value="âš–ï¸ Conflict\nResolution" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#4caf50;strokeWidth=2;fontSize=10;" vertex="1" parent="data-integration">
          <mxGeometry x="700" y="40" width="100" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="change-tracking" value="ðŸ“Š Change\nTracking" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#4caf50;strokeWidth=2;fontSize=10;" vertex="1" parent="data-integration">
          <mxGeometry x="830" y="40" width="100" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="event-publisher" value="ðŸ“¢ Event\nPublisher" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81c784;strokeColor=#4caf50;strokeWidth=2;fontSize=10;" vertex="1" parent="data-integration">
          <mxGeometry x="960" y="40" width="100" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="scheduler" value="â° Sync\nScheduler" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81c784;strokeColor=#4caf50;strokeWidth=2;fontSize=10;" vertex="1" parent="data-integration">
          <mxGeometry x="1090" y="40" width="100" height="70" as="geometry" />
        </mxCell>
        
        <!-- MESSAGE QUEUE LAYER -->
        <mxCell id="message-queue-layer" value="ðŸ“¨ MESSAGE QUEUE LAYER" style="swimlane;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;strokeWidth=2;fontStyle=1;fontSize=12;startSize=30;" vertex="1" parent="1">
          <mxGeometry x="50" y="420" width="1300" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="rabbitmq" value="ðŸ° RabbitMQ\nMessage Broker" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ce93d8;strokeColor=#7b1fa2;strokeWidth=2;fontSize=10;" vertex="1" parent="message-queue-layer">
          <mxGeometry x="200" y="40" width="150" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="sync-queue" value="ðŸ”„ Sync\nQueue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ba68c8;strokeColor=#7b1fa2;strokeWidth=1;fontSize=10;" vertex="1" parent="message-queue-layer">
          <mxGeometry x="380" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="validation-queue" value="âœ… Validation\nQueue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ba68c8;strokeColor=#7b1fa2;strokeWidth=1;fontSize=10;" vertex="1" parent="message-queue-layer">
          <mxGeometry x="510" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="error-queue" value="âŒ Error\nQueue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ba68c8;strokeColor=#7b1fa2;strokeWidth=1;fontSize=10;" vertex="1" parent="message-queue-layer">
          <mxGeometry x="640" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="notification-queue" value="ðŸ“¢ Notification\nQueue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ba68c8;strokeColor=#7b1fa2;strokeWidth=1;fontSize=10;" vertex="1" parent="message-queue-layer">
          <mxGeometry x="770" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="dlq" value="ðŸ’€ Dead Letter\nQueue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ad7be9;strokeColor=#7b1fa2;strokeWidth=2;fontSize=10;" vertex="1" parent="message-queue-layer">
          <mxGeometry x="900" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="audit-queue" value="ðŸ—ƒï¸ Audit\nQueue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ad7be9;strokeColor=#7b1fa2;strokeWidth=2;fontSize=10;" vertex="1" parent="message-queue-layer">
          <mxGeometry x="1030" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        
        <!-- MASTER DATA REPOSITORY -->
        <mxCell id="master-data-repo" value="ðŸ—ƒï¸ MASTER DATA REPOSITORY" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0277bd;strokeWidth=2;fontStyle=1;fontSize=12;startSize=30;" vertex="1" parent="1">
          <mxGeometry x="50" y="570" width="1300" height="200" as="geometry" />
        </mxCell>
        
        <!-- Company Data -->
        <mxCell id="company-data" value="ðŸ¢ COMPANY DATA" style="swimlane;whiteSpace=wrap;html=1;fillColor=#b3e5fc;strokeColor=#0277bd;strokeWidth=1;fontStyle=1;fontSize=10;startSize=25;" vertex="1" parent="master-data-repo">
          <mxGeometry x="50" y="40" width="300" height="140" as="geometry" />
        </mxCell>
        
        <mxCell id="company-registry" value="ðŸ“‹ Company\nRegistry" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81d4fa;strokeColor=#0277bd;strokeWidth=1;fontSize=9;" vertex="1" parent="company-data">
          <mxGeometry x="20" y="30" width="80" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="business-licenses" value="ðŸ“„ Business\nLicenses" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81d4fa;strokeColor=#0277bd;strokeWidth=1;fontSize=9;" vertex="1" parent="company-data">
          <mxGeometry x="120" y="30" width="80" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="authorized-agents" value="ðŸ‘¥ Authorized\nAgents" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81d4fa;strokeColor=#0277bd;strokeWidth=1;fontSize=9;" vertex="1" parent="company-data">
          <mxGeometry x="220" y="30" width="80" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="company-addresses" value="ðŸ“ Company\nAddresses" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4fc3f7;strokeColor=#0277bd;strokeWidth=1;fontSize=9;" vertex="1" parent="company-data">
          <mxGeometry x="20" y="80" width="80" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="contact-details" value="ðŸ“ž Contact\nDetails" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4fc3f7;strokeColor=#0277bd;strokeWidth=1;fontSize=9;" vertex="1" parent="company-data">
          <mxGeometry x="120" y="80" width="80" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="financial-info" value="ðŸ’° Financial\nInfo" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4fc3f7;strokeColor=#0277bd;strokeWidth=1;fontSize=9;" vertex="1" parent="company-data">
          <mxGeometry x="220" y="80" width="80" height="40" as="geometry" />
        </mxCell>
        
        <!-- Product Data -->
        <mxCell id="product-data" value="ðŸ“¦ PRODUCT DATA" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#2e7d32;strokeWidth=1;fontStyle=1;fontSize=10;startSize=25;" vertex="1" parent="master-data-repo">
          <mxGeometry x="380" y="40" width="280" height="140" as="geometry" />
        </mxCell>
        
        <mxCell id="hs-codes" value="ðŸ·ï¸ HS\nCodes" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#2e7d32;strokeWidth=1;fontSize=9;" vertex="1" parent="product-data">
          <mxGeometry x="20" y="30" width="70" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="product-catalog" value="ðŸ“‹ Product\nCatalog" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#2e7d32;strokeWidth=1;fontSize=9;" vertex="1" parent="product-data">
          <mxGeometry x="110" y="30" width="70" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="tariff-rates" value="ðŸ’° Tariff\nRates" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#2e7d32;strokeWidth=1;fontSize=9;" vertex="1" parent="product-data">
          <mxGeometry x="200" y="30" width="70" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="restrictions" value="ðŸš« Trade\nRestrictions" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a5d6a7;strokeColor=#2e7d32;strokeWidth=1;fontSize=9;" vertex="1" parent="product-data">
          <mxGeometry x="20" y="80" width="70" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="certifications" value="âœ… Required\nCertifications" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a5d6a7;strokeColor=#2e7d32;strokeWidth=1;fontSize=9;" vertex="1" parent="product-data">
          <mxGeometry x="110" y="80" width="70" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="origin-rules" value="ðŸŒ Origin\nRules" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a5d6a7;strokeColor=#2e7d32;strokeWidth=1;fontSize=9;" vertex="1" parent="product-data">
          <mxGeometry x="200" y="80" width="70" height="40" as="geometry" />
        </mxCell>
        
        <!-- Reference Data -->
        <mxCell id="reference-data" value="ðŸ“Š REFERENCE DATA" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#ef6c00;strokeWidth=1;fontStyle=1;fontSize=10;startSize=25;" vertex="1" parent="master-data-repo">
          <mxGeometry x="690" y="40" width="280" height="140" as="geometry" />
        </mxCell>
        
        <mxCell id="countries" value="ðŸŒ Countries" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc80;strokeColor=#ef6c00;strokeWidth=1;fontSize=9;" vertex="1" parent="reference-data">
          <mxGeometry x="20" y="30" width="70" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="currencies" value="ðŸ’± Currencies" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc80;strokeColor=#ef6c00;strokeWidth=1;fontSize=9;" vertex="1" parent="reference-data">
          <mxGeometry x="110" y="30" width="70" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="ports" value="âš“ Ports" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc80;strokeColor=#ef6c00;strokeWidth=1;fontSize=9;" vertex="1" parent="reference-data">
          <mxGeometry x="200" y="30" width="70" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="transport-modes" value="ðŸš› Transport\nModes" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffb74d;strokeColor=#ef6c00;strokeWidth=1;fontSize=9;" vertex="1" parent="reference-data">
          <mxGeometry x="20" y="80" width="70" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="units-measure" value="ðŸ“ Units of\nMeasure" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffb74d;strokeColor=#ef6c00;strokeWidth=1;fontSize=9;" vertex="1" parent="reference-data">
          <mxGeometry x="110" y="80" width="70" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="document-types" value="ðŸ“„ Document\nTypes" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffb74d;strokeColor=#ef6c00;strokeWidth=1;fontSize=9;" vertex="1" parent="reference-data">
          <mxGeometry x="200" y="80" width="70" height="40" as="geometry" />
        </mxCell>
        
        <!-- Configuration Data -->
        <mxCell id="config-data" value="âš™ï¸ CONFIGURATION DATA" style="swimlane;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;strokeWidth=1;fontStyle=1;fontSize=10;startSize=25;" vertex="1" parent="master-data-repo">
          <mxGeometry x="1000" y="40" width="260" height="140" as="geometry" />
        </mxCell>
        
        <mxCell id="system-parameters" value="ðŸ”§ System\nParameters" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ce93d8;strokeColor=#7b1fa2;strokeWidth=1;fontSize=9;" vertex="1" parent="config-data">
          <mxGeometry x="20" y="30" width="80" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="business-rules" value="ðŸ“‹ Business\nRules" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ce93d8;strokeColor=#7b1fa2;strokeWidth=1;fontSize=9;" vertex="1" parent="config-data">
          <mxGeometry x="120" y="30" width="80" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="workflows" value="ðŸ”„ Workflow\nDefinitions" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ba68c8;strokeColor=#7b1fa2;strokeWidth=1;fontSize=9;" vertex="1" parent="config-data">
          <mxGeometry x="20" y="80" width="80" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="user-roles" value="ðŸ‘¤ User\nRoles" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ba68c8;strokeColor=#7b1fa2;strokeWidth=1;fontSize=9;" vertex="1" parent="config-data">
          <mxGeometry x="120" y="80" width="80" height="40" as="geometry" />
        </mxCell>
        
        <!-- DATABASE LAYER -->
        <mxCell id="database-layer" value="ðŸ—ƒï¸ DATABASE LAYER" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e8eaf6;strokeColor=#3f51b5;strokeWidth=2;fontStyle=1;fontSize=12;startSize=30;" vertex="1" parent="1">
          <mxGeometry x="50" y="800" width="1300" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="master-db" value="ðŸ—ƒï¸ Master Data\nPostgreSQL" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#c5cae9;strokeColor=#3f51b5;strokeWidth=2;fontSize=10;" vertex="1" parent="database-layer">
          <mxGeometry x="150" y="40" width="120" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="staging-db" value="ðŸ—ƒï¸ Staging\nPostgreSQL" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#c5cae9;strokeColor=#3f51b5;strokeWidth=2;fontSize=10;" vertex="1" parent="database-layer">
          <mxGeometry x="300" y="40" width="120" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="sync-log-db" value="ðŸ—ƒï¸ Sync Logs\nPostgreSQL" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#c5cae9;strokeColor=#3f51b5;strokeWidth=2;fontSize=10;" vertex="1" parent="database-layer">
          <mxGeometry x="450" y="40" width="120" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="redis-cache" value="âš¡ Redis\nCache" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffb74d;strokeColor=#f57c00;strokeWidth=2;fontSize=10;" vertex="1" parent="database-layer">
          <mxGeometry x="600" y="50" width="120" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="elasticsearch" value="ðŸ” Elasticsearch\nSearch Index" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#ffcc80;strokeColor=#ef6c00;strokeWidth=2;fontSize=10;" vertex="1" parent="database-layer">
          <mxGeometry x="750" y="40" width="120" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="backup-storage" value="ðŸ’¾ Backup\nStorage" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a5d6a7;strokeColor=#2e7d32;strokeWidth=2;fontSize=10;" vertex="1" parent="database-layer">
          <mxGeometry x="900" y="50" width="120" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="audit-log" value="ðŸ“ Audit\nLogs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ef9a9a;strokeColor=#c62828;strokeWidth=2;fontSize=10;" vertex="1" parent="database-layer">
          <mxGeometry x="1050" y="50" width="120" height="50" as="geometry" />
        </mxCell>
        
        <!-- MAIN FLOW CONNECTIONS -->
        
        <!-- External Systems to Integration Layer -->
        <mxCell id="ext-int1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#c62828;strokeWidth=2;endArrow=classic;" edge="1" parent="1" source="customs-hq" target="api-gateway">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="160" y="220" />
              <mxPoint x="150" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="ext-int2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#c62828;strokeWidth=2;endArrow=classic;" edge="1" parent="1" source="ministry-economy" target="data-connectors">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="310" y="220" />
              <mxPoint x="280" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="ext-int3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#c62828;strokeWidth=2;endArrow=classic;" edge="1" parent="1" source="chamber-commerce" target="etl-engine">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="460" y="220" />
              <mxPoint x="410" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="ext-int4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#c62828;strokeWidth=2;endArrow=classic;" edge="1" parent="1" source="trade-license" target="data-validation">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="610" y="220" />
              <mxPoint x="540" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="ext-int5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#c62828;strokeWidth=2;endArrow=classic;" edge="1" parent="1" source="banks" target="data-mapping">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="760" y="220" />
              <mxPoint x="670" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Integration Layer to Message Queue -->
        <mxCell id="int-queue1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4caf50;strokeWidth=2;endArrow=classic;" edge="1" parent="1" source="etl-engine" target="sync-queue">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="410" y="400" />
              <mxPoint x="480" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="int-queue2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4caf50;strokeWidth=2;endArrow=classic;" edge="1" parent="1" source="data-validation" target="validation-queue">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="540" y="400" />
              <mxPoint x="610" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="int-queue3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4caf50;strokeWidth=2;endArrow=classic;" edge="1" parent="1" source="event-publisher" target="notification-queue">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1060" y="400" />
              <mxPoint x="870" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="int-queue4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4caf50;strokeWidth=2;endArrow=classic;" edge="1" parent="1" source="change-tracking" target="audit-queue">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="930" y="400" />
              <mxPoint x="1130" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Master Data Repository Connections -->
        <mxCell id="repo-db1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#0277bd;strokeWidth=3;endArrow=oval;startArrow=oval;" edge="1" parent="1" source="company-registry" target="master-db">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="170" y="780" />
              <mxPoint x="260" y="780" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="repo-db2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#2e7d32;strokeWidth=3;endArrow=oval;startArrow=oval;" edge="1" parent="1" source="hs-codes" target="master-db">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="480" y="780" />
              <mxPoint x="260" y="780" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="repo-db3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ef6c00;strokeWidth=3;endArrow=oval;startArrow=oval;" edge="1" parent="1" source="countries" target="master-db">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="760" y="780" />
              <mxPoint x="260" y="780" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="repo-db4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#7b1fa2;strokeWidth=3;endArrow=oval;startArrow=oval;" edge="1" parent="1" source="system-parameters" target="master-db">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1120" y="780" />
              <mxPoint x="260" y="780" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Queue to Repository -->
        <mxCell id="queue-repo1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#7b1fa2;strokeWidth=3;endArrow=classic;" edge="1" parent="1" source="sync-queue" target="staging-db">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="480" y="550" />
              <mxPoint x="410" y="550" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="queue-repo2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#7b1fa2;strokeWidth=2;endArrow=classic;" edge="1" parent="1" source="validation-queue" target="sync-log-db">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="610" y="550" />
              <mxPoint x="560" y="550" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="queue-repo3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#7b1fa2;strokeWidth=2;endArrow=classic;" edge="1" parent="1" source="audit-queue" target="audit-log">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1130" y="550" />
              <mxPoint x="1160" y="550" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Cache and Search Connections -->
        <mxCell id="cache-conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#f57c00;strokeWidth=2;strokeStyle=dashed;endArrow=oval;startArrow=oval;" edge="1" parent="1" source="data-mapping" target="redis-cache">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="670" y="550" />
              <mxPoint x="710" y="550" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="search-conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ef6c00;strokeWidth=2;strokeStyle=dashed;endArrow=oval;startArrow=oval;" edge="1" parent="1" source="change-tracking" target="elasticsearch">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="930" y="550" />
              <mxPoint x="860" y="550" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Backup Connection -->
        <mxCell id="backup-conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#2e7d32;strokeWidth=2;strokeStyle=dashed;endArrow=classic;" edge="1" parent="1" source="master-db" target="backup-storage">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="260" y="950" />
              <mxPoint x="1010" y="950" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Scheduler Connections -->
        <mxCell id="scheduler-conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4caf50;strokeWidth=2;strokeStyle=dashed;endArrow=classic;" edge="1" parent="1" source="scheduler" target="etl-engine">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1190" y="390" />
              <mxPoint x="410" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="scheduler-conn2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4caf50;strokeWidth=2;strokeStyle=dashed;endArrow=classic;" edge="1" parent="1" source="scheduler" target="change-tracking">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1190" y="390" />
              <mxPoint x="930" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Error Handling -->
        <mxCell id="error-conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#c62828;strokeWidth=2;strokeStyle=dashed;endArrow=classic;" edge="1" parent="1" source="validation-queue" target="error-queue">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="error-conn2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#c62828;strokeWidth=2;strokeStyle=dashed;endArrow=classic;" edge="1" parent="1" source="error-queue" target="dlq">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Flow Labels -->
        <mxCell id="flow-label1" value="Data Ingestion Flow" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="200" y="200" width="150" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="flow-label2" value="Validation & Processing" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="450" y="380" width="150" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="flow-label3" value="Master Data Storage" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="300" y="760" width="150" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="flow-label4" value="Scheduled Sync" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="800" y="370" width="100" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="flow-label5" value="Error Recovery" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="450" width="100" height="20" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>