graph TB
    %% Developer Workflow
    subgraph Developer["ğŸ‘¨â€ğŸ’» DEVELOPER WORKFLOW"]
        direction TB
        
        Developer1[ğŸ‘¨â€ğŸ’» Developer]
        LocalDev[ğŸ’» Local Development<br/>â€¢ Docker Compose<br/>â€¢ Local Testing<br/>â€¢ Code Quality Tools]
        
        Developer1 --> LocalDev
    end

    %% Source Control
    subgraph SourceControl["ğŸ“š SOURCE CONTROL & COLLABORATION"]
        direction TB
        
        GitLab[ğŸ“š GitLab Enterprise<br/>â€¢ Git Repository<br/>â€¢ Merge Requests<br/>â€¢ Code Review<br/>â€¢ Branch Protection]
        
        subgraph BranchStrategy["Branch Strategy"]
            MainBranch[ğŸŒŸ main branch<br/>Production Ready]
            DevelopBranch[ğŸ”§ develop branch<br/>Integration Branch]
            FeatureBranches[ğŸš€ feature/* branches<br/>Individual Features]
            ReleaseBranches[ğŸ·ï¸ release/* branches<br/>Release Preparation]
            HotfixBranches[ğŸ”¥ hotfix/* branches<br/>Emergency Fixes]
        end
    end

    %% CI/CD Pipeline Triggers
    subgraph PipelineTriggers["ğŸ”„ PIPELINE TRIGGERS"]
        direction TB
        
        CommitTrigger[ğŸ“ Code Commit<br/>feature branch]
        MRTrigger[ğŸ”€ Merge Request<br/>develop/main branch]
        TagTrigger[ğŸ·ï¸ Git Tag<br/>Release trigger]
        ScheduledTrigger[â° Scheduled<br/>Nightly builds]
    end

    %% CI Pipeline
    subgraph CIPipeline["ğŸ”¨ CONTINUOUS INTEGRATION PIPELINE"]
        direction TB
        
        subgraph BuildStage["Build Stage"]
            CheckoutCode[ğŸ“¥ Checkout Code<br/>Clone Repository]
            DependencyInstall[ğŸ“¦ Install Dependencies<br/>NuGet, NPM packages]
            CompileCode[ğŸ”¨ Compile Code<br/>Build .NET & Angular]
            UnitTests[ğŸ§ª Unit Tests<br/>xUnit, Jest, Karma]
        end
        
        subgraph QualityStage["Quality Assurance Stage"]
            CodeAnalysis[ğŸ” Code Analysis<br/>SonarQube]
            SecurityScan[ğŸ”’ Security Scan<br/>OWASP Dependency Check]
            LintCheck[ğŸ“‹ Lint Check<br/>ESLint, Roslyn Analyzers]
            CodeCoverage[ğŸ“Š Code Coverage<br/>Coverlet, Istanbul]
        end
        
        subgraph TestStage["Testing Stage"]
            IntegrationTests[ğŸ”— Integration Tests<br/>API Testing]
            E2ETests[ğŸ­ E2E Tests<br/>Playwright/Cypress]
            ContractTests[ğŸ“‹ Contract Tests<br/>Pact Testing]
            PerformanceTests[âš¡ Performance Tests<br/>NBomber, k6]
        end
        
        subgraph PackageStage["Package Stage"]
            DockerBuild[ğŸ³ Docker Build<br/>Multi-stage builds]
            ImageScan[ğŸ” Image Security Scan<br/>Trivy, Clair]
            ImagePush[ğŸ“¤ Push to Registry<br/>Harbor Registry]
            HelmPackage[âš™ï¸ Package Helm Charts<br/>Chart versioning]
        end
    end

    %% Artifact Repository
    subgraph ArtifactRepo["ğŸ“¦ ARTIFACT REPOSITORY"]
        direction TB
        
        HarborRegistry[ğŸ³ Harbor Registry<br/>â€¢ Container Images<br/>â€¢ Vulnerability Scanning<br/>â€¢ Image Signing<br/>â€¢ Replication]
        
        HelmRepository[âš™ï¸ Helm Repository<br/>â€¢ Chart Storage<br/>â€¢ Version Management<br/>â€¢ Dependency Management]
        
        NuGetFeed[ğŸ“¦ NuGet Feed<br/>â€¢ .NET Packages<br/>â€¢ Internal Libraries<br/>â€¢ Version Control]
        
        NPMRegistry[ğŸ“¦ NPM Registry<br/>â€¢ Node.js Packages<br/>â€¢ Angular Libraries<br/>â€¢ Private Packages]
    end

    %% CD Pipeline
    subgraph CDPipeline["ğŸš€ CONTINUOUS DEPLOYMENT PIPELINE"]
        direction TB
        
        subgraph DeploymentStages["Deployment Stages"]
            DevDeploy[ğŸŸ¢ Development Deploy<br/>â€¢ Automatic deployment<br/>â€¢ Latest features<br/>â€¢ Developer testing]
            
            StagingDeploy[ğŸŸ¡ Staging Deploy<br/>â€¢ Manual approval<br/>â€¢ Production-like testing<br/>â€¢ User acceptance testing]
            
            ProdDeploy[ğŸ”´ Production Deploy<br/>â€¢ Manual approval<br/>â€¢ Blue-green deployment<br/>â€¢ Rollback capability]
        end
        
        subgraph DeploymentStrategies["Deployment Strategies"]
            BlueGreen[ğŸ”„ Blue-Green Deployment<br/>â€¢ Zero downtime<br/>â€¢ Quick rollback<br/>â€¢ Full environment switch]
            
            RollingUpdate[ğŸ“ˆ Rolling Update<br/>â€¢ Gradual deployment<br/>â€¢ Partial traffic<br/>â€¢ Minimal resource usage]
            
            CanaryDeploy[ğŸ¤ Canary Deployment<br/>â€¢ Progressive rollout<br/>â€¢ Traffic splitting<br/>â€¢ Risk mitigation]
        end
    end

    %% Kubernetes Environments
    subgraph K8sEnvironments["â˜¸ï¸ KUBERNETES ENVIRONMENTS"]
        direction TB
        
        subgraph DevEnvironment["Development Environment"]
            DevNamespace[ğŸŸ¢ jul-development<br/>Namespace]
            DevServices[âš™ï¸ All Services<br/>Latest builds]
            DevDB[ğŸ—ƒï¸ Development DB<br/>Test data]
        end
        
        subgraph StagingEnvironment["Staging Environment"]
            StagingNamespace[ğŸŸ¡ jul-staging<br/>Namespace]
            StagingServices[âš™ï¸ All Services<br/>Release candidates]
            StagingDB[ğŸ—ƒï¸ Staging DB<br/>Production-like data]
        end
        
        subgraph ProductionEnvironment["Production Environment"]
            ProdNamespace[ğŸ”´ jul-production<br/>Namespace]
            ProdServices[âš™ï¸ All Services<br/>Stable releases]
            ProdDB[ğŸ—ƒï¸ Production DB<br/>Live data]
        end
    end

    %% Infrastructure as Code
    subgraph IaC["ğŸ—ï¸ INFRASTRUCTURE AS CODE"]
        direction TB
        
        subgraph TerraformConfig["Terraform Configuration"]
            TerraformModules[ğŸ—ï¸ Terraform Modules<br/>â€¢ Kubernetes cluster<br/>â€¢ Networking<br/>â€¢ Storage<br/>â€¢ Security groups]
            
            TerraformState[ğŸ’¾ Terraform State<br/>â€¢ Remote state backend<br/>â€¢ State locking<br/>â€¢ Version control]
        end
        
        subgraph HelmCharts["Helm Charts"]
            ApplicationCharts[âš™ï¸ Application Charts<br/>â€¢ Microservice templates<br/>â€¢ Configuration management<br/>â€¢ Environment values]
            
            InfrastructureCharts[ğŸ—ï¸ Infrastructure Charts<br/>â€¢ PostgreSQL<br/>â€¢ Redis<br/>â€¢ MinIO<br/>â€¢ RabbitMQ]
        end
        
        subgraph ConfigManagement["Configuration Management"]
            ConfigMaps[âš™ï¸ ConfigMaps<br/>â€¢ Application config<br/>â€¢ Environment variables<br/>â€¢ Feature flags]
            
            Secrets[ğŸ” Secrets Management<br/>â€¢ Database passwords<br/>â€¢ API keys<br/>â€¢ Certificates]
        end
    end

    %% Monitoring and Observability
    subgraph Monitoring["ğŸ“Š MONITORING & OBSERVABILITY"]
        direction TB
        
        subgraph PipelineMonitoring["Pipeline Monitoring"]
            GitLabCI[ğŸ“Š GitLab CI Metrics<br/>â€¢ Build success rate<br/>â€¢ Pipeline duration<br/>â€¢ Test results<br/>â€¢ Deployment frequency]
            
            QualityMetrics[ğŸ“ˆ Quality Metrics<br/>â€¢ Code coverage<br/>â€¢ Technical debt<br/>â€¢ Security vulnerabilities<br/>â€¢ Performance benchmarks]
        end
        
        subgraph DeploymentMonitoring["Deployment Monitoring"]
            DeploymentStatus[ğŸš€ Deployment Status<br/>â€¢ Deployment success<br/>â€¢ Rollback events<br/>â€¢ Environment health<br/>â€¢ Service availability]
            
            ApplicationMetrics[ğŸ“Š Application Metrics<br/>â€¢ Performance monitoring<br/>â€¢ Error tracking<br/>â€¢ User experience<br/>â€¢ Business metrics]
        end
    end

    %% Security and Compliance
    subgraph Security["ğŸ”’ SECURITY & COMPLIANCE"]
        direction TB
        
        subgraph SecurityScanning["Security Scanning"]
            SAST[ğŸ” SAST<br/>Static Application Security Testing<br/>Code vulnerability analysis]
            
            DAST[ğŸ•¸ï¸ DAST<br/>Dynamic Application Security Testing<br/>Runtime vulnerability testing]
            
            DependencyCheck[ğŸ“¦ Dependency Check<br/>Third-party vulnerability scanning<br/>License compliance]
            
            ContainerScan[ğŸ³ Container Scanning<br/>Image vulnerability assessment<br/>Base image security]
        end
        
        subgraph ComplianceChecks["Compliance Checks"]
            PolicyValidation[ğŸ“‹ Policy Validation<br/>â€¢ Kubernetes policies<br/>â€¢ Security policies<br/>â€¢ Compliance rules]
            
            AuditLogging[ğŸ“ Audit Logging<br/>â€¢ Pipeline audit trail<br/>â€¢ Deployment logs<br/>â€¢ Access logs]
        end
    end

    %% Testing Strategy
    subgraph TestingStrategy["ğŸ§ª TESTING STRATEGY"]
        direction TB
        
        subgraph TestPyramid["Test Pyramid"]
            UnitTestLayer[ğŸ§ª Unit Tests (70%)<br/>â€¢ Fast execution<br/>â€¢ High coverage<br/>â€¢ Developer feedback]
            
            IntegrationTestLayer[ğŸ”— Integration Tests (20%)<br/>â€¢ API testing<br/>â€¢ Database testing<br/>â€¢ Service interaction]
            
            E2ETestLayer[ğŸ­ E2E Tests (10%)<br/>â€¢ User journey testing<br/>â€¢ Browser automation<br/>â€¢ Critical path validation]
        end
        
        subgraph TestEnvironments["Test Environments"]
            TestDataManagement[ğŸ—ƒï¸ Test Data Management<br/>â€¢ Synthetic data<br/>â€¢ Data masking<br/>â€¢ Environment refresh]
            
            TestReporting[ğŸ“Š Test Reporting<br/>â€¢ Test results<br/>â€¢ Coverage reports<br/>â€¢ Trend analysis]
        end
    end

    %% Release Management
    subgraph ReleaseManagement["ğŸ·ï¸ RELEASE MANAGEMENT"]
        direction TB
        
        subgraph ReleaseStrategy["Release Strategy"]
            GitFlow[ğŸŒŠ Git Flow<br/>â€¢ Feature branches<br/>â€¢ Release branches<br/>â€¢ Hotfix workflow]
            
            SemanticVersioning[ğŸ”¢ Semantic Versioning<br/>â€¢ Major.Minor.Patch<br/>â€¢ Automated versioning<br/>â€¢ Changelog generation]
        end
        
        subgraph ReleaseAutomation["Release Automation"]
            ReleaseNotes[ğŸ“ Release Notes<br/>â€¢ Automated generation<br/>â€¢ Feature summaries<br/>â€¢ Bug fixes<br/>â€¢ Breaking changes]
            
            RollbackProcedures[â†©ï¸ Rollback Procedures<br/>â€¢ Automated rollback<br/>â€¢ Database migrations<br/>â€¢ Configuration rollback]
        end
    end

    %% Flow Connections
    Developer --> SourceControl
    SourceControl --> PipelineTriggers
    PipelineTriggers --> CIPipeline
    CIPipeline --> ArtifactRepo
    ArtifactRepo --> CDPipeline
    CDPipeline --> K8sEnvironments
    
    IaC --> K8sEnvironments
    Security --> CIPipeline
    TestingStrategy --> CIPipeline
    Monitoring -.-> CIPipeline
    Monitoring -.-> CDPipeline
    ReleaseManagement --> CDPipeline

    %% Pipeline Flow Details
    subgraph PipelineFlow["ğŸ”„ DETAILED PIPELINE FLOW"]
        direction LR
        
        Step1[1ï¸âƒ£ Code Commit]
        Step2[2ï¸âƒ£ Build & Test]
        Step3[3ï¸âƒ£ Quality Gates]
        Step4[4ï¸âƒ£ Security Scan]
        Step5[5ï¸âƒ£ Package & Store]
        Step6[6ï¸âƒ£ Deploy to Dev]
        Step7[7ï¸âƒ£ Integration Test]
        Step8[8ï¸âƒ£ Deploy to Staging]
        Step9[9ï¸âƒ£ UAT & Performance]
        Step10[ğŸ”Ÿ Deploy to Prod]
        
        Step1 --> Step2 --> Step3 --> Step4 --> Step5
        Step5 --> Step6 --> Step7 --> Step8 --> Step9 --> Step10
    end

    %% Styling
    classDef devBox fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#000
    classDef ciBox fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#000
    classDef cdBox fill:#fff3e0,stroke:#ef6c00,stroke-width:2px,color:#000
    classDef securityBox fill:#ffebee,stroke:#c62828,stroke-width:2px,color:#000
    classDef infraBox fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px,color:#000
    classDef monitorBox fill:#f1f8e9,stroke:#33691e,stroke-width:2px,color:#000

    class Developer,SourceControl devBox
    class CIPipeline,TestingStrategy ciBox
    class CDPipeline,ReleaseManagement cdBox
    class Security securityBox
    class K8sEnvironments,IaC,ArtifactRepo infraBox
    class Monitoring monitorBox